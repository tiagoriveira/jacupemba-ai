üõ°Ô∏è Checklist: Casco Selado (Pr√©-Build Mobile)

Objetivo: Garantir que o c√≥digo web do Jacupemba AI n√£o "vaze" ou quebre quando for transformado em aplicativo.

1. O Princ√≠pio da Estaticidade (The Static Rule)

O celular n√£o √© um servidor. Ele n√£o consegue rodar c√≥digo Node.js internamente.




Next.js Export: No seu next.config.mjs, a linha output: 'export' deve estar ativa.




Sem Rotas Din√¢micas de Servidor: Verifique se voc√™ n√£o est√° usando getServerSideProps. No mobile, tudo deve ser useEffect ou chamadas de API via fetch para a URL completa da sua API na Vercel (ex: https://jacupemba.ai/api/chat e n√£o apenas /api/chat ).

2. Ativos Visuais (Branding)

O sistema operacional (Android/iOS) exige arquivos espec√≠ficos para n√£o mostrar o √≠cone padr√£o "feio".




√çcone do App: Voc√™ precisa de uma imagem quadrada de 1024x1024px (use um dos avatares que geramos).




Splash Screen: Uma imagem de 2048x2048px que aparece enquanto o app carrega.




Favicon vs App Icon: Garanta que o Windsurf configurou o caminho para o icon.png na pasta public.

3. Permiss√µes e Hardware

O navegador pede permiss√£o, o app nativo exige configura√ß√£o pr√©via.




C√¢mera: Se o usu√°rio vai subir foto de relato, o arquivo de configura√ß√£o do Capacitor/Expo deve declarar o uso da c√¢mera.




Localiza√ß√£o: Essencial para o Jacupemba AI. Verifique se o c√≥digo trata o caso de o usu√°rio negar a permiss√£o.

4. Vari√°veis de Ambiente "Congeladas"




Hardcoded Public Keys: No mobile, as chaves do Supabase (NEXT_PUBLIC_...) s√£o gravadas no c√≥digo durante o build. Elas n√£o mudam depois. Verifique se voc√™ est√° usando as chaves de Produ√ß√£o e n√£o as de teste local.




Instru√ß√£o para o Windsurf:
"Revise o projeto com base no Checklist Casco Selado. Garanta que todas as chamadas de API usem URLs absolutas e que o output esteja configurado para exporta√ß√£o est√°tica."

